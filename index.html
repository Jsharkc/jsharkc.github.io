<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Jacobc's blog</title>
<meta name=keywords content="Blog,Portfolio,PaperMod,Jsharkc,golang">
<meta name=description content="Jacobc's blog, welcome to my blog">
<meta name=author content="Jsharkc">
<link rel=canonical href=https://jsharkc.github.io/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.5e2b4101351c21e906f398ae96901791830f58d430f96f2659dab7eaef7b3cb7.css integrity="sha256-XitBATUcIekG85iulpAXkYMPWNQw+W8mWdq36u97PLc=" rel="preload stylesheet" as=style>
<link rel=icon href=https://jsharkc.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://jsharkc.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://jsharkc.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://jsharkc.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://jsharkc.github.io/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.86.1">
<link rel=alternate type=application/rss+xml href=https://jsharkc.github.io/index.xml>
<link rel=alternate type=application/json href=https://jsharkc.github.io/index.json>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><meta property="og:title" content="Jacobc's blog">
<meta property="og:description" content="Jacobc's blog, welcome to my blog">
<meta property="og:type" content="website">
<meta property="og:url" content="https://jsharkc.github.io/"><meta property="og:image" content="https://jsharkc.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="Jacobc'S BLOG">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://jsharkc.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Jacobc's blog">
<meta name=twitter:description content="Jacobc's blog, welcome to my blog">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Jacobc's blog","url":"https://jsharkc.github.io/","description":"Jacobc\u0026#39;s blog, welcome to my blog","thumbnailUrl":"https://jsharkc.github.io/%3Clink%20/%20abs%20url%3E","sameAs":["https://github.com/Jsharkc","index.xml"]}</script>
</head>
<body class="list dark" id=top>
<script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://jsharkc.github.io/ accesskey=h title="Jacobc's blog (Alt + H)">Jacobc's blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://jsharkc.github.io/archives/ title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://jsharkc.github.io/tags title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://jsharkc.github.io/search title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class="first-entry home-info">
<header class=entry-header>
<h1>自律与自由</h1>
</header>
<section class=entry-content>
<p><p>人在这个世界上是一定会被管理的</p>
<ul>
<li>
<p>区别在于：是别人管理，还是自己管理</p>
</li>
<li>
<p>自己管理自己是自律，别人管理是奴役、管控、他律</p>
</li>
<li>
<p>被别人管理当然是不自由的，所以你会发现：</p>
</li>
<li>
<p>别人管理 + 自己管理 = 100%</p>
</li>
<li>
<p>别人管理 = 他律 = 不自由</p>
</li>
<li>
<p>自己管理 = 自律</p>
</li>
<li>
<p>不自由 + 自律 = 100%</p>
</li>
<li>
<p>自律 = 100% - 不自由 = 自由</p>
</li>
<li>
<p>有多自律，就有多自由</p>
</li>
</ul>
</p>
</section>
<footer class=entry-footer>
<div class=social-icons>
<a href=https://github.com/Jsharkc target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
<a href=index.xml target=_blank rel="noopener noreferrer me" title=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg>
</a>
</div>
</footer>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>限制内存 mongo docker-compsoe 部署
</h2>
</header>
<section class=entry-content>
<p>用 docker 起 mongo，有两种限制方式：
通过 Docker 限制内存 通过 MongoDB 自己的配置文件限制 一、通过 Docker 限制内存 内存限制相关参数：
参数 简介 -m, –memory 内存限制，格式：数字+单位，单位可以是b, k, m, g，最小4M – -memory-swap 存和交换空间总大小限制，注意：必须比-m参数大，-1 表示不受限 例子：
docker run -m 100M --memory-swap -1 mongo:5.0 二、通过 mongo 配置文件限制 配置文件位置：
3.x : /etc/mongod.conf
4.x : /etc/mongod.conf.orig
默认配置：
storage: # mongod 进程存储数据目录，此配置仅对 mongod 进程有效 dbPath: /data/mongodb/db 是否开启 journal 日志持久存储，journal 日志用来数据恢复，是 mongod 最基础的特性，通常用于故障恢复。64 位系统默认为 true，32 位默认为 false，建议开启，仅对 mongod 进程有效。 journal: enabled: true # 存储引擎类型，mongodb 3....</p>
</section>
<footer class=entry-footer>April 2, 2022&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Jsharkc</footer>
<a class=entry-link aria-label="post link to 限制内存 mongo docker-compsoe 部署" href=https://jsharkc.github.io/post/mongo-compose/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Centos7 安装 Docker
</h2>
</header>
<section class=entry-content>
<p>一条命令安装 官方脚本：
curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun 国内 daocloud 安装命令：
curl -sSL https://get.daocloud.io/docker | sh 手动安装指定版本 卸载旧版本 sudo yum remove docker \ docker-client \ docker-client-latest \ docker-common \ docker-latest \ docker-latest-logrotate \ docker-logrotate \ docker-engine \ container-selinux \ docker-selinux 安装相关依赖 yum-utils 提供 yum-config-manager 工具, devicemapper存储驱动依赖 device-mapper-persistent-data 和 lvm2.
yum install -y yum-utils device-mapper-persistent-data lvm2 配置版本镜像库 季度更新的稳定 stable 版和 test 版...</p>
</section>
<footer class=entry-footer>November 15, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Jsharkc</footer>
<a class=entry-link aria-label="post link to Centos7 安装 Docker" href=https://jsharkc.github.io/post/centos7-install-docker/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>修复 dyld: Library not loaded
</h2>
</header>
<section class=entry-content>
<p>flutter 最新版 2.5.3 安装 CocoaPods 需要 ruby 2.6 以上，而我 MAC 上 ruby 只有 2.5 所以需要更新 ruby，brew install ruby 后，就碰到了这个问题。
报错信息：
dyld: Library not loaded: /usr/local/opt/ruby/lib/libruby.2.5.dylib Referenced from: /usr/local/bin/vi Reason: image not found 也就是说，现在 ruby 2.6 所以找不到 ruby 2.5 了
首先
> which vi 找到 vi 所在的位置，/usr/local/bin/vi，然后 通过 otool 找到该命令依赖的库 > otool -L /usr/local/bin/vi /usr/local/bin/vi: ... /usr/local/opt/ruby/lib/libruby.dylib (compatibility version 2.5.0, current version 2.5.1) /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0) ... 有很多内容，为了能看清楚，我用 ....</p>
</section>
<footer class=entry-footer>October 16, 2021&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Jsharkc</footer>
<a class=entry-link aria-label="post link to 修复 dyld: Library not loaded" href=https://jsharkc.github.io/post/fix-dyld-library-not-loaded/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Golang 按大小 or 时间切割日志
</h2>
</header>
<section class=entry-content>
<p>Log 用的 go.uber.org/zap 库。
按大小切割日志 按大小切割日志，用到 github.com/natefinch/lumberjack 库，代码如下：
package log import ( "fmt" "os" "strings" "time" "github.com/natefinch/lumberjack" "go.uber.org/zap" "go.uber.org/zap/zapcore" ) var Sugar *zap.SugaredLogger = nil var Raw *zap.Logger = nil // LogInit 初始化日志库 // dev 开发模式，日志不入文件 // logPath 日志文件存放路径 // logName 日志文件名称 // maxSize 单个文件大小，超过后切割，单位 M // maxBackups 旧的日志文件最多保留个数，0 为保存所有 // maxAge 旧的日志文件最多保留天数，0 为保存所有 // MaxBackups 和 maxAge 只要有一个不满足，就不再保留 func LogInit(dev bool, logPath, logName string, maxSize, maxBackups, maxAge int) (err error) { if dev { Raw, _ = zap....</p>
</section>
<footer class=entry-footer>September 26, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Jsharkc</footer>
<a class=entry-link aria-label="post link to Golang 按大小 or 时间切割日志" href=https://jsharkc.github.io/post/golang-devide-log-by-size-or-time/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>有进程为什么还创造线程
</h2>
</header>
<section class=entry-content>
<p>有进程为什么还创造线程 原因： 进程属于在CPU和系统资源等方面提供的抽象，能够有效提高CPU的利用率。
线程是在进程这个层次上提供的一层并发的抽象：
（1）能够使系统在同一时间能够做多件事情；
（2）当进程遇到阻塞时，例如等待输入，线程能够使不依赖输入数据的工作继续执行
（3）可以有效地利用多处理器和多核计算机，在没有线程之前，多核并不能让一个进程的执行速度提高
进程是什么？ 程序并不能单独运行，只有将程序装载到内存中，系统为它分配资源才能运行，而这种执行的程序就称之为进程。程序和进程的区别就在于：程序是指令的集合，它是进程运行的静态描述文本；进程是程序的一次执行活动，属于动态概念。
在多道编程中，我们允许多个程序同时加载到内存中，在操作系统的调度下，可以实现并发地执行。这是这样的设计，大大提高了CPU的利用率。进程的出现让每个用户感觉到自己独享CPU，因此，进程就是为了在CPU上实现多道编程而提出的。
有了进程为什么还要线程？ 进程有很多优点，它提供了多道编程，让我们感觉我们每个人都拥有自己的CPU和其他资源，可以提高计算机的利用率。很多人就不理解了，既然进程这么优秀，为什么还要线程呢？其实，仔细观察就会发现进程还是有很多缺陷的，主要体现在两点上：
进程只能在一个时间干一件事，如果想同时干两件事或多件事，进程就无能为力了。 进程在执行的过程中如果阻塞，例如等待输入，整个进程就会挂起，即使进程中有些工作不依赖于输入的数据，也将无法执行。 如果这两个缺点理解比较困难的话，举个现实的例子也许你就清楚了：如果把我们上课的过程看成一个进程的话，那么我们要做的是耳朵听老师讲课，手上还 要记笔记，脑子还要思考问题，这样才能高效的完成听课的任务。而如果只提供进程这个机制的话，上面这三件事将不能同时执行，同一时间只能做一件事，听的时 候就不能记笔记，也不能用脑子思考，这是其一；如果老师在黑板上写演算过程，我们开始记笔记，而老师突然有一步推不下去了，阻塞住了，他在那边思考着，而 我们呢，也不能干其他事，即使你想趁此时思考一下刚才没听懂的一个问题都不行，这是其二。
现在你应该明白了进程的缺陷了，而解决的办法很简单，我们完全可以让听、写、思三个独立的过程，并行起来，这样很明显可以提高听课的效率。而实际的操作系统中，也同样引入了这种类似的机制——线程。
线程的优点 因为要并发，我们发明了进程，又进一步发明了线程。只不过进程和线程的并发层次不同：进程属于在处理器这一层上提供的抽象；线程则属于在进程这个层 次上再提供了一层并发的抽象。如果我们进入计算机体系结构里，就会发现，流水线提供的也是一种并发，不过是指令级的并发。这样，流水线、线程、进程就从低 到高在三个层次上提供我们所迫切需要的并发！
除了提高进程的并发度，线程还有个好处，就是可以有效地利用多处理器和多核计算机。现在的处理器有个趋势就是朝着多核方向发展，在没有线程之前，多 核并不能让一个进程的执行速度提高，原因还是上面所有的两点限制。但如果讲一个进程分解为若干个线程，则可以让不同的线程运行在不同的核上，从而提高了进 程的执行速度。
例如：我们经常使用微软的Word进行文字排版，实际上就打开了多个线程。这些线程一个负责显示，一个接受键盘的输入，一个进行存盘等等。这些线程 一起运行，让我们感觉到我们输入和屏幕显示同时发生，而不是输入一些字符，过一段时间才能看到显示出来。在我们不经意间，还进行了自动存盘操作。这就是线 程给我们带来的方便之处。
进程与线程的区别 进程是具有一定独立功能的程序关于某个数据集合上的一次运行活动,进程是系统进行资源分配和调度的一个独立单位。 线程是进程的一个实体, 是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位.线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源。 一个线程可以创建和撤销另一个线程，同一个进程中的多个线程之间可以并发执行。 进程和线程的主要差别在于它们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其它进程产生影响，而线程 只是一个进程中的不同执行路径。线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于整个进程死掉，所以多进程的程序要比多线 程的程序 健壮，但在进程切换时，耗费资源较大，效率要差一些。但对于一些要求同时进行并且又要共享某些变量的并发操作，只能用线程，不能用进程。
注：前一阵子去淘宝面试，面试官就问了我这个问题：进程与线程的区别是什么？我当时说了一大堆，但感觉还是没说关键的点上，最后他又问最本质的区别是什么？我傻了一会，难道刚我说的没有说到吗？嘿嘿，确实有点囧啊~~
原文链接：
https://www.cnblogs.com/Berryxiong/p/6429723.html
参考文献：
【1】 邹恒明. 计算机的心智 操作系统之哲学原理. 机械工业出版社
【2】 Andrew著 陈向群译. 现代操作系统. 机械工业出版社
【3】 http://blog.csdn.net/zengjibing/archive/2009/02/22/3923357.aspx</p>
</section>
<footer class=entry-footer>July 13, 2021&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Jsharkc</footer>
<a class=entry-link aria-label="post link to 有进程为什么还创造线程" href=https://jsharkc.github.io/post/%E6%9C%89%E8%BF%9B%E7%A8%8B%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E8%A6%81%E7%BA%BF%E7%A8%8B/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Centos 安装 oh-my-zsh
</h2>
</header>
<section class=entry-content>
<p>查看、安装 zsh 查看是否安装了 zsh
# 方法一： chsh -l # 方法二： cat /etc/shells # 可能结果： /bin/sh /bin/bash /sbin/nologin /usr/bin/sh /usr/bin/bash /usr/sbin/nologin /bin/zsh # 如果有 /bin/zsh 代表已经安装，反之则没有 安装 zsh
yum install -y zsh 切换 shell 为 zsh
chsh -s /bin/zsh 安装 oh-my-zsh 安装需要 git，没有安装需要先安装：
yum install -y git 1、可以通过别人已经写好的脚本安装，用 curl 或者 wget 下载脚本来安装：
通过 curl sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" 通过 wget sh -c "$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" 2、也可以自己用 git 安装...</p>
</section>
<footer class=entry-footer>November 17, 2019&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Jsharkc</footer>
<a class=entry-link aria-label="post link to Centos 安装 oh-my-zsh" href=https://jsharkc.github.io/post/centos-install-oh-my-zsh/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Mac安装破解版 Charles
</h2>
</header>
<section class=entry-content>
<p>文章转自 https://www.jianshu.com/p/4f0573f3c5db
步骤 下载Charles安装包 双击dmg文件，将charles拖入应用程序中 在应用程序中右键 Charles，选择「显示包内容」，打开目录「Contents」=> 「Java」，用下载的 charles.jar (在 dmg 文件中) 替换目录中的 charles.jar 打开 Charles，在菜单中找到 Help => Register Charles…，随便输入信息完成注册 重启 Charles 可能遇到的问题 1. 打不开xxx软件,因为它不是从app store下载的 解决方法：
左上角苹果标志 => 系统偏好设置 => 安全性与隐私
选择"仍要打开"，就可以安装了
2. 破解之后显示软件已损坏 其实并没有损坏,只是软件来自身份不明的开发者(见上图)，然后苹果就告诉你，它是坏的…..
解决方法：
打开终端，输入命令: sudo spctl --master-disable 会让你输入密码，输入后按回车就好 再看一下安全性与隐私里面
多出一个任何来源，现在打开软件就没有任何问题了</p>
</section>
<footer class=entry-footer>November 17, 2019&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Jsharkc</footer>
<a class=entry-link aria-label="post link to Mac安装破解版 Charles" href=https://jsharkc.github.io/post/mac-install-charles/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=next href=https://jsharkc.github.io/page/2/>Next Page »</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://jsharkc.github.io/>Jacobc's blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>